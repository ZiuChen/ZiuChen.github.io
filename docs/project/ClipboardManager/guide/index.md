---
navbar: false
sidebar: false
aside: false
---

# 使用指南

## 二进制监听程序在 MacOS 的特殊配置

针对`MacOS`系统，在将剪贴板监听程序拷贝到指定目录后，请在重启插件后，检查监听程序是否生效

如果监听程序未生效，可能是：

1. 需要下载对应芯片的监听程序
2. 需要对程序进行签名与授权

::: warning
适配了Apple M1芯片的监听程序： [clipboard-event-handler-mac-apple-silicon-arm64-M1](https://github.com/wangyw6716/clipboard-event-handler-mac-apple-silicon-arm64-M1)

由于此仓库不在超级剪贴板开发者维护范围内，请自行承担文件安全性带来的风险。
:::

**1. 签名**

打开终端输入以下命令

```sh
sudo codesign --force --deep --sign - 
```

![](../assets/sign-mac.png)

然后将此目录中的`clipboard-event-handler-mac`文件拖入终端执行命令

![](../assets/sign-mac-2.png)

**2. 授权**

左上角🍎 / 系统偏好设置 / 安全性与隐私 / 通用 / 点击允许

![](../assets/mac-chmod.jpg)

## 如何创造自己的功能按钮

超级剪贴板为用户提供了自定义功能按钮的能力，这让`超级剪贴板`真正变得“超级”起来。

用户可以通过插件内的「动作编辑器」自定义功能按钮，也可以从动作市场中获取更多内置的动作：

- 讯飞OCR识别
- 百度搜索
- 百度识图
- 统计文本字数
- 颜色管理
- 识别图片中二维码
- 上传到图床
- 翻译

自定义的功能按钮能够**携带数据跳转到任何其他插件**，这项功能给`超级剪贴板`带来了无限可能。

下面我将从这些样例出发对这项功能做简单介绍：

### 基础用法

你可以在「动作编辑器」新增一个动作，按要求填写好动作名、插件应用名称、指令以及匹配类型：

- 动作名
  - 用于动作命名，例如「百度OCR识别」
- 插件应用名称
  - 要跳转的插件名称
- 指令
  - 需要插件实现对应的指令
- 匹配类型
  - 选中哪些种类的数据时，才会展示此动作
  - 例如「百度搜搜」只会匹配文本类型的剪贴板历史

以 `百度搜索` 为例，跳转的目标插件应用名称为 `网页快开`，指令为 `百度一下`，匹配的指令类型为 `文本`

此时当你在「超级剪贴板」中选中一个文本时，就可以直接用百度搜索当前选中的这段文本。

### 高级用例

除了使用简单的字符串匹配不同的内容，`超级剪贴板`还支持使用正则表达式，这需要你切换到「高级匹配」并填写 JSON。

以`上传到图床`功能为例：

```json
{
  "id": "custom.1663490864",
  "title": "上传到图床",
  "icon": "🚀",
  "match": ["image", { "type": "file", "regex": ".(?:jpg|jpeg|png)$" }],
  "command": "redirect:上传到图床"
}
```

这个动作除了可以匹配图片，还可以将符合正则的图片文件匹配上，在匹配上的历史记录上展示`上传到图床`按钮，携带数据跳转到图床插件，一键上传。

需要注意的是，因为自定义功能按钮实现的是**携带数据跳转不同插件**，所以`redirect`后的内容并不应该是普通关键字（普通关键字仅能作为插件入口，而不能携带数据），而应该是`文本`/`图片`/`文件或文件夹`：

![](../assets/gi4.png)
![](../assets/gi5.png)

- `id`: `String` 全局唯一 必须以`custom`开头 建议以时间戳为后缀
- `title`: `String` 鼠标悬停时展示的文本
- `icon`: `String` 展示在插件内的图标
- `match`: `<String | Object>[]` 匹配模式
- `command`: `String` 执行跳转的关键字 前缀`redirect:`是必须的

在未来的版本更新中，`超级剪贴板`将开放更多自定义功能给高级用户，帮助你更高效率的管理、使用剪贴板。

## WebDAV 使用指南

插件会员支持通过 WebDAV 在不同设备之间同步剪贴板数据

获取 `服务器地址`、`账号`、`密钥`（如有）后，在插件的 `首选项/网络/启用 WebDAV 同步` 中开启同步功能。

在开启 WebDAV 同步功能后，插件的主面板下述变化：

- 主面板下拉菜单中支持主动上传/主动下载数据；
- 主面板用户信息左侧的同步的状态指示灯用以显示当前的同步状态，点击状态指示灯可以主动下载/上传数据；

![WebDAV](../assets/webdav.png)

同时，每次本地剪贴板内容发生变化，都会将最新数据同步到同步到服务器。

另外，如果在 `首选项/网络/自动下载` 中配置了 `自动下载`，那么首次进入插件时会主动从 WebDAV 服务器下载数据。

相关链接：

- [Infini Cloud](https://infini-cloud.net/en/) （国内可用 无限制）
- [坚果云 WebDav](https://help.jianguoyun.com/?tag=webdav)（国内可用 限制调用次数）
- [2022年还有哪些支持WebDAV的网盘？](https://www.zhihu.com/question/347182171)